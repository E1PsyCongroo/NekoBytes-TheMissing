<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="./static/css/base.css" rel="stylesheet">
    <link href="./static/css/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.font.im/css?family=Source+Serif+Pro%7CLato%7CInconsolata" rel="stylesheet"
        type="text/css">
    <title> lecture3 </title>
    <!-- browser favicon -->
    <link rel="shortcut icon" href="./static/img/favicon.ico">
    <style>
        .font-sans {
            font-family: 'Lato', 'SimHei', 'STHeiti', 'SimHei', 'Serif';
        }

        .font-serif {
            font-family: 'Source Serif Pro', 'Songti SC', 'SimSun', 'Serif', serif;
        }
    </style>
    <link rel="stylesheet" href="./static/katex/katex.min.css">
    <script defer src="./static/katex/katex.min.js"></script>
    <script defer src="./static/katex/auto-render.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            renderMathInElement(document.body, {
                // customised options
                // &#8226; auto-render specific keys, e.g.:
                delimiters: [
                    { left: '$$', right: '$$', display: true },
                    { left: '$', right: '$', display: false },
                    { left: '\\(', right: '\\)', display: false },
                    { left: '\\[', right: '\\]', display: true }
                ],
                // &#8226; rendering keys, e.g.:
                throwOnError: false
            });
        });
    </script>

    <link rel="stylesheet" href="./static/reveal/reveal.css">
    <link rel="stylesheet" href="./static/reveal/theme/simple.css" id="theme">
    <link rel="stylesheet" href="./static/jyy/jyy.css">

</head>

<body class="d-flex flex-column h-100">

    <div class="reveal">
        <div class="slides">
            <section><section><div class="center middle"><div style="width:100%"><div><h1 id="_1" class="text-2xl mt-2 font-sans">ä»è½¯ä»¶åˆ°ç¡¬ä»¶</h1><p class="font-serif my-1">
    <include src="Slides_Author">
        <div class="py-16">
            <p class="font-serif my-1">
                <a href="" class=" text-amber-900">
                    è‡ªç”±ï¼ŒM4yGem1ni
                </a>
            </p>
        </div>
        <div class="row">
            <p class="font-serif my-1"/>

            <div class="author-affiliation">
                <a href="https://github.com/E1PsyCongroo/NekoBytes-TheMissing" class=" text-amber-900">
                    <p class="font-serif my-1">
                        NekoBytes
                    </p>
                    <img class="inline-img h-24" src="./static/img/a3e06ca01a4c4654a6d0af45ced42f6d.svg" style="display: inline-block;"/>
                </a>
            </div>

        </div>
    </include>
</p></div></div></div></section></section><section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">è®¡ç®—æœºçš„æ•°å­¦è§†è§’</h2>
<blockquote>
<p class="font-serif my-1">è®¡ç®—æœºç³»ç»Ÿæ˜¯ä¸¥æ ¼çš„æ•°å­¦å¯¹è±¡ï¼šæ²¡æœ‰é­”æ³•ï¼›è®¡ç®—æœºç³»ç»Ÿçš„ä¸€åˆ‡è¡Œä¸ºéƒ½æ˜¯å¯è§‚æµ‹ã€å¯ç†è§£çš„ã€‚</p>
</blockquote>
<ul class="list-disc font-serif">
<li class="ml-8">çŠ¶æ€æœºæ¨¡å‹</li>
<li class="ml-8">è®¡ç®—æœºçš„çŠ¶æ€æœºè§†è§’</li>
<li class="ml-8">æŒ‡ä»¤é›†</li>
<li class="ml-8">æ±‡ç¼–è¯­è¨€å’Œæœºå™¨è¯­è¨€</li>
<li class="ml-8">å†¯Â·è¯ºä¼Šæ›¼ä½“ç³»ç»“æ„</li>
</ul></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans"><a href="https://zh.wikipedia.org/wiki/%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA">çŠ¶æ€æœºæ¨¡å‹</a></h2>
<p class="font-serif my-1">çŠ¶æ€æœº: è¡¨ç¤ºæœ‰é™ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„<strong>æ•°å­¦è®¡ç®—æ¨¡å‹</strong></p>
<ul class="list-disc font-serif">
<li class="ml-8">çŠ¶æ€</li>
<li class="ml-8">ä¼šæ ¹æ®è¾“å…¥ï¼ˆæ¿€åŠ±ï¼‰æ”¹å˜è‡ªèº«çš„çŠ¶æ€</li>
<li class="ml-8">ç®€å•çš„çŠ¶æ€æœº<ul class="list-disc font-serif">
<li class="ml-8"><strong>å®‰é™çŠ¶æ€</strong> â†’ <em>çœ‹åˆ°äºº</em> â†’ <strong>å å«çŠ¶æ€</strong></li>
<li class="ml-8"><strong>å å«çŠ¶æ€</strong> â†’ <em>äººç»™é¦™è‚ </em> â†’ <strong>è¿›é£ŸçŠ¶æ€</strong></li>
<li class="ml-8"><strong>è¿›é£ŸçŠ¶æ€</strong> â†’ <em>åƒå®Œé¦™è‚ </em> â†’ <strong>å®‰é™çŠ¶æ€</strong></li>
</ul>
</li>
</ul></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">è®¡ç®—æœºæ˜¯ä¸ªçŠ¶æ€æœº</h2>
<ul class="list-disc font-serif">
<li class="ml-8">çŠ¶æ€ï¼šå„ä¸ª<strong>è®¾å¤‡</strong>çš„ç”µè·¯çŠ¶æ€</li>
<li class="ml-8">æ¿€åŠ±ï¼šå¤–éƒ¨çš„è¾“å…¥ï¼ˆé¼ æ ‡ã€é”®ç›˜ï¼‰</li>
</ul>
<h2 id="_2" class="text-xl mt-2 pb-2 font-sans">ç¨‹åºæ˜¯ä¸ªçŠ¶æ€æœº</h2>
<ul class="list-disc font-serif">
<li class="ml-8">çŠ¶æ€ï¼š<strong>å¯„å­˜å™¨</strong>ã€<strong>å†…å­˜</strong></li>
<li class="ml-8">æ¿€åŠ±ï¼šæ‰§è¡Œæ–°çš„<strong>æŒ‡ä»¤</strong></li>
</ul></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">æŒ‡ä»¤é›†</h2>
<ul class="list-disc font-serif">
<li class="ml-8">è¾“å…¥çš„æŒ‡ä»¤ -&gt; è¦åšä»€ä¹ˆæ“ä½œ</li>
<li class="ml-8">ç¨‹åºå‘˜å’ŒCPUçš„ä¸€ç§çº¦å®š</li>
<li class="ml-8">å¸¸è§çš„æŒ‡ä»¤é›†:<ul class="list-disc font-serif">
<li class="ml-8">x86_64(amd64)</li>
<li class="ml-8">ARM</li>
<li class="ml-8">RISC-V</li>
<li class="ml-8">MISP</li>
<li class="ml-8">LoongArch</li>
</ul>
</li>
</ul></div></section><section data-auto-animate><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">æ±‡ç¼–è¯­è¨€å’Œæœºå™¨è¯­è¨€</h2>
<ul class="list-disc font-serif">
<li class="ml-8">æœºå™¨è¯­è¨€</li>
</ul>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="mi">00000040</span><span class="o">:</span><span class="w"> </span><span class="mi">4111</span><span class="w"> </span><span class="mi">06</span><span class="n">e4</span><span class="w"> </span><span class="mi">22</span><span class="n">e0</span><span class="w"> </span><span class="mi">0008</span><span class="w"> </span><span class="mi">1705</span><span class="w"> </span><span class="mi">0000</span><span class="w"> </span><span class="mi">1305</span><span class="w"> </span><span class="mi">0500</span>
<span class="mi">00000050</span><span class="o">:</span><span class="w"> </span><span class="mi">9700</span><span class="w"> </span><span class="mi">0000</span><span class="w"> </span><span class="n">e780</span><span class="w"> </span><span class="mi">0000</span><span class="w"> </span><span class="mi">8147</span><span class="w"> </span><span class="mi">3</span><span class="n">e85</span><span class="w"> </span><span class="n">a260</span><span class="w"> </span><span class="mi">0264</span>
<span class="mi">00000060</span><span class="o">:</span><span class="w"> </span><span class="mi">4101</span><span class="w"> </span><span class="mi">8280</span>
</code></pre></div>

<ul class="list-disc font-serif">
<li class="ml-8">æ±‡ç¼–è¯­è¨€</li>
</ul>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="nl">main:</span>
<span class="w">        </span><span class="nf">addi</span><span class="w">    </span><span class="no">sp</span><span class="p">,</span><span class="no">sp</span><span class="p">,-</span><span class="mi">16</span>
<span class="w">        </span><span class="nf">sd</span><span class="w">      </span><span class="no">ra</span><span class="p">,</span><span class="mi">8</span><span class="p">(</span><span class="no">sp</span><span class="p">)</span>
<span class="w">        </span><span class="nf">sd</span><span class="w">      </span><span class="no">s0</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="no">sp</span><span class="p">)</span>
<span class="w">        </span><span class="nf">addi</span><span class="w">    </span><span class="no">s0</span><span class="p">,</span><span class="no">sp</span><span class="p">,</span><span class="mi">16</span>
</code></pre></div>

<p class="font-serif my-1">å‡ ä¹æ˜¯ç®€å•çš„æ›¿æ¢</p></div></section><section data-auto-animate><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">æ±‡ç¼–è¯­è¨€å’Œæœºå™¨è¯­è¨€</h2>
<p class="font-serif my-1">å‡ ä¹æ˜¯ç®€å•çš„æ›¿æ¢</p>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="m">0000000000000000</span><span class="w"> </span>&lt;main&gt;:
<span class="w">   </span><span class="m">0</span>:<span class="w"> </span><span class="m">1141</span><span class="w">        </span>addi<span class="w"> </span>sp,sp,-16
<span class="w">   </span><span class="m">2</span>:<span class="w"> </span>e406<span class="w">        </span>sd<span class="w">     </span>ra,8<span class="o">(</span>sp<span class="o">)</span>
<span class="w">   </span><span class="m">4</span>:<span class="w"> </span>e022<span class="w">        </span>sd<span class="w">     </span>s0,0<span class="o">(</span>sp<span class="o">)</span>
<span class="w">   </span><span class="m">6</span>:<span class="w"> </span><span class="m">0800</span><span class="w">        </span>addi<span class="w"> </span>s0,sp,16
<span class="w">   </span><span class="m">8</span>:<span class="w"> </span><span class="m">00000517</span><span class="w">    </span>auipc<span class="w"> </span>a0,0x0
<span class="w">   </span>c:<span class="w"> </span><span class="m">00050513</span><span class="w">    </span>mv<span class="w"> </span>a0,a0
<span class="w">  </span><span class="m">10</span>:<span class="w"> </span><span class="m">00000097</span><span class="w">    </span>auipc<span class="w"> </span>ra,0x0
<span class="w">  </span><span class="m">14</span>:<span class="w"> </span>000080e7<span class="w">    </span>jalr<span class="w"> </span>ra<span class="w"> </span><span class="c1">#10 &lt;main+0x10&gt;</span>
<span class="w">  </span><span class="m">18</span>:<span class="w"> </span><span class="m">4781</span><span class="w">        </span>li<span class="w"> </span>a5,0
<span class="w">  </span>1a:<span class="w"> </span>853e<span class="w">        </span>mv<span class="w"> </span>a0,a5
<span class="w">  </span>1c:<span class="w"> </span>60a2<span class="w">        </span>ld<span class="w"> </span>ra,8<span class="o">(</span>sp<span class="o">)</span>
<span class="w">  </span>1e:<span class="w"> </span><span class="m">6402</span><span class="w">        </span>ld<span class="w"> </span>s0,0<span class="o">(</span>sp<span class="o">)</span>
<span class="w">  </span><span class="m">20</span>:<span class="w"> </span><span class="m">0141</span><span class="w">        </span>addi<span class="w"> </span>sp,sp,16
<span class="w">  </span><span class="m">22</span>:<span class="w"> </span><span class="m">8082</span><span class="w">        </span>ret
</code></pre></div></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">ä½“ä¼šé«˜çº§è¯­è¨€åˆ°æœºå™¨è¯­è¨€</h2>
<ul class="list-disc font-serif">
<li class="ml-8">Cè¯­è¨€<code>main.c</code> -&gt; æ±‡ç¼–è¯­è¨€<code>main.S</code></li>
</ul>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code>gcc<span class="w"> </span>./main.c<span class="w"> </span>-S<span class="w"> </span>./main.S
</code></pre></div>

<ul class="list-disc font-serif">
<li class="ml-8">æ±‡ç¼–è¯­è¨€<code>main.S</code> -&gt; å¯æ‰§è¡Œæ–‡ä»¶<code>main</code></li>
</ul>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code>gcc<span class="w"> </span>./main.S<span class="w"> </span>-o<span class="w"> </span>./main
</code></pre></div>

<blockquote>
<p class="font-serif my-1"><code>main</code>å¹¶ä¸åªåŒ…å«äº†æœºå™¨è¯­è¨€ï¼Œè¿˜åŒ…å«äº†æŒ‡ç¤ºç³»ç»Ÿå¦‚ä½•è¿è¡Œè¿™ä¸ªæ–‡ä»¶çš„ä¿¡æ¯ã€‚</p>
</blockquote></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans"><a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E7%81%B5%E6%9C%BA">å›¾çµæœº</a></h2>
<ul class="list-disc font-serif">
<li class="ml-8">CPUå¦‚ä½•è‡ªåŠ¨è®¡ç®—ï¼Ÿ</li>
<li class="ml-8">ä¸‹ä¸€æ¡æŒ‡ä»¤åœ¨å“ªé‡Œï¼Ÿ â€”â€” ç¨‹åºè®¡æ•°å™¨PC</li>
</ul>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">ä»PCæŒ‡ç¤ºçš„å­˜å‚¨å™¨ä½ç½®å–å‡ºæŒ‡ä»¤</span><span class="p">;</span>
<span class="w">  </span><span class="n">æ‰§è¡ŒæŒ‡ä»¤</span><span class="p">;</span>
<span class="w">  </span><span class="n">æ›´æ–°PC</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<ul class="list-disc font-serif">
<li class="ml-8">å›¾çµæœº<ul class="list-disc font-serif">
<li class="ml-8">å­˜å‚¨å™¨ã€PCã€åŠ æ³•å™¨</li>
<li class="ml-8">ä»PCæŒ‡ç¤ºçš„å­˜å‚¨å™¨ä½ç½®å–æŒ‡ -&gt; æ‰§è¡Œ -&gt; æ›´æ–°PC</li>
</ul>
</li>
</ul></div></section></section><section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">è®¡ç®—æœºçš„ç¡¬ä»¶è§†è§’</h2>
<ul class="list-disc font-serif">
<li class="ml-8">å†¯Â·è¯ºä¼Šæ›¼ä½“ç³»ç»“æ„</li>
<li class="ml-8">é€»è¾‘é—¨ç”µè·¯</li>
<li class="ml-8">è¿ç®—å™¨</li>
<li class="ml-8">å¤„ç†å™¨</li>
</ul></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans"><a href="https://zh.wikipedia.org/wiki/%E5%86%AF%E8%AF%BA%E4%BC%8A%E6%9B%BC%E7%BB%93%E6%9E%84">å†¯Â·è¯ºä¼Šæ›¼ä½“ç³»ç»“æ„</a></h2>
<ul class="list-disc font-serif">
<li class="ml-8">
<p class="font-serif my-1">è¿ç®—å™¨ï¼šALU</p>
</li>
<li class="ml-8">
<p class="font-serif my-1">æ§åˆ¶å™¨ï¼šé€»è¾‘ç”µè·¯æ§åˆ¶å™¨</p>
</li>
<li class="ml-8">
<p class="font-serif my-1">å­˜å‚¨å™¨ï¼šå†…å­˜ã€å¯„å­˜å™¨</p>
</li>
<li class="ml-8">
<p class="font-serif my-1">æ€»çº¿ï¼š</p>
<ul class="list-disc font-serif">
<li class="ml-8">è¾“å…¥è®¾å¤‡ï¼šé”®ç›˜ã€é¼ æ ‡</li>
<li class="ml-8">è¾“å‡ºè®¾å¤‡ï¼šæ˜¾ç¤ºå™¨</li>
</ul>
</li>
</ul>
<blockquote>
<p class="font-serif my-1">å†¯Â·è¯ºä¼Šæ›¼ä½“ç³»ç»“æ„çš„æ ¸å¿ƒæ€æƒ³</p>
<ul class="list-disc font-serif">
<li class="ml-8">ä½¿ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæ•°æ®</li>
<li class="ml-8">ç¨‹åºæŒ‡ä»¤å’Œæ•°æ®å¹¶å­˜</li>
<li class="ml-8">è®¡ç®—æœºçš„äº”ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†</li>
</ul>
</blockquote></div></section><section><div><h2 id="cpu" class="text-xl mt-2 pb-2 font-sans">CPUçš„æ‰§è¡Œè¿‡ç¨‹</h2>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="nf">addi</span><span class="w"> </span><span class="no">x1</span><span class="p">,</span><span class="w"> </span><span class="no">x0</span><span class="p">,</span><span class="w"> </span><span class="mi">0xf</span><span class="w"> </span><span class="mi">0x00f00093</span>
</code></pre></div>

<p class="font-serif my-1"><img class="center" src="./static/img/d243ca107cd4499681e636bdc26cfdc1.svg" width="960px"/></p></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">é€»è¾‘ç”µè·¯</h2>
<hr/>
<p class="font-serif my-1">å®šä¹‰å¦‚ä¸‹è§„åˆ™ï¼š</p>
<hr/>
<ul class="list-disc font-serif">
<li class="ml-8">éé—¨ï¼šä¸€ä¸ªè¾“å…¥ï¼Œä¸€ä¸ªè¾“å‡ºï¼Œè¾“å…¥è¾“å‡ºç›¸åã€‚</li>
<li class="ml-8">ä¸é—¨ï¼šä¸¤ä¸ªè¾“å…¥ï¼Œä¸€ä¸ªè¾“å‡ºã€‚ä¸¤è¾¹å…¨æ˜¯1ï¼Œåˆ™è¾“å‡ºä¸º1ï¼Œå¦åˆ™ä¸º0</li>
<li class="ml-8">æˆ–é—¨ï¼šä¸¤ä¸ªè¾“å…¥ï¼Œä¸€ä¸ªè¾“å‡ºã€‚ä¸¤è¾¹æœ‰ä¸€ä¸ªæ˜¯1ï¼Œåˆ™è¾“å‡ºä¸º1ï¼Œå¦åˆ™ä¸º0</li>
<li class="ml-8">å¼‚æˆ–é—¨ï¼šä¸¤ä¸ªè¾“å…¥ï¼Œä¸€ä¸ªè¾“å‡ºã€‚ä¸¤è¾¹ä¸åŒï¼Œåˆ™è¾“å‡ºä¸º1ï¼Œå¦åˆ™ä¸º0</li>
</ul>
<p class="font-serif my-1"><a href="https://computationstructures.org/exercises/ALU/lab.html">Computation Structure</a></p></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">åŠ æ³•</h2>
<p class="font-serif my-1">ä½¿ç”¨ä¸¤ä¸ªå¼‚æˆ–é—¨å’Œä¸¤ä¸ªä¸é—¨å’Œä¸€ä¸ªæˆ–é—¨ï¼Œå®ç°äº†ä¸€ä¸ªåŠ æ³•å™¨</p>
<hr/>

<ul class="list-disc font-serif">
<li class="ml-8">A,Bï¼šå¯¹åº”çš„ä¸¤ä¸ªåŠ æ•°</li>
<li class="ml-8">Cinï¼šå‰ä¸€é¡¹çš„è¿›ä½</li>
<li class="ml-8">Sï¼šè®¡ç®—ç»“æœï¼ˆA,B,Cinæœ‰å¥‡æ•°ä¸ª1åˆ™è¾“å‡º1ï¼‰</li>
<li class="ml-8">Coutï¼šè¿›ä½(A,B,Cinæœ‰ä¸¤ä¸ªä¸º1åˆ™è¾“å‡º1)</li>
</ul>
<hr/>

<p class="font-serif my-1"><img class="center" src="./static/img/1ef2c3989aa746b8ac407b1144dfc25c.png" width="768px"/></p></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">æŠ½è±¡</h2>
<p class="font-serif my-1">å°†ä¹‹å‰çš„ç”µè·¯æŠ½è±¡æˆä¸€ä¸ªicon
è¿™æ ·ä¾¿æ— éœ€åœ¨æ„é‡Œé¢çš„å…·ä½“ç»†èŠ‚</p>
<hr/>

<p class="font-serif my-1"><img class="center" src="./static/img/0b474dda29cf48df8a7e263d8451e4aa.png" width="768px"/></p></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">åŠ æ³•å™¨ç»„åˆ</h2>
<hr/>

<p class="font-serif my-1">é€ä¸ªæ‹¼æ¥å°±èƒ½å®ç°32ä½ï¼Œä¹ƒè‡³64ä½çš„åŠ æ³•</p>
<hr/>
<ul class="list-disc font-serif">
<li class="ml-8">AFNä¸º1ä»£è¡¨æ˜¯å‡æ³•</li>
<li class="ml-8">å‡æ³•æ˜¯ä»¥åŠ æ³•ä¸ºåŸºç¡€æ¥è¿›è¡Œè®¡ç®—çš„</li>
</ul>
<hr/>

<p class="font-serif my-1"><img class="center" src="./static/img/10e52809ee67484d99292d5534f64b62.png" width="768px"/></p></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">å†æ¬¡æŠ½è±¡</h2>
<hr/>

<p class="font-serif my-1">å°†è¿™ä¸ªç”µè·¯æ¨¡å‹æŠ½è±¡ä¸ºä¸€ä¸ªicon</p>
<hr/>

<p class="font-serif my-1"><img class="center" src="./static/img/02af09f89caf42c7bb1edf18066b728b.png" width="768px"/></p></div></section><section><div><h2 id="alumni" class="text-xl mt-2 pb-2 font-sans">æŒ‰ç…§è¿™ä¸ªæ€è·¯æ„å»ºALUMNI</h2>
<hr/>

<ul class="list-disc font-serif">
<li class="ml-8">SHIFTï¼šå®ç°æ•°æ®çš„ç§»ä½</li>
<li class="ml-8">BOOLï¼šè¿›è¡Œå¸ƒå°”è¿ç®—</li>
<li class="ml-8">AIRTHï¼šè¿›è¡ŒåŠ æ³•å‡æ³•è¿ç®—</li>
<li class="ml-8">CMPï¼šä¸AIRTHç´§å¯†ç»“åˆï¼Œæ ¹æ®å…¶è¾“å‡ºåˆ¤æ–­A,Bå¤§å°å…³ç³»</li>
</ul>
<hr/>

<p class="font-serif my-1"><img class="center" src="./static/img/508956fb91d94b55b31d4109b2ec0a76.png" width="668px"/></p></div></section><section><div><h2 id="cpu" class="text-xl mt-2 pb-2 font-sans">æ„å»ºCPU</h2>
<p class="font-serif my-1">æŒ‰ç…§è¿™ä¸ªæ€è·¯ç»§ç»­æŠ½è±¡ï¼Œä¾¿èƒ½å¾—åˆ°ä¸€ä¸ªCPUçš„æ¨¡å‹</p>
<hr/>

<p class="font-serif my-1"><img class="center" src="./static/img/fe774fafdc2347ca804b27c2e71f3f6c.png" width="568px"/></p></div></section></section><section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">æ“ä½œç³»ç»Ÿ</h2>
<blockquote>
<p class="font-serif my-1">å¯æ‰§è¡Œæ–‡ä»¶å¹¶ä¸åªåŒ…å«äº†è¯¥ç¨‹åºçš„æœºå™¨è¯­è¨€ï¼Œè¿˜åŒ…å«äº†æŒ‡ç¤ºç³»ç»Ÿå¦‚ä½•è¿è¡Œè¿™ä¸ªæ–‡ä»¶çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<ul class="list-disc font-serif">
<li class="ml-8">ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿï¼Ÿ</li>
<li class="ml-8">ç¡¬ä»¶è§†è§’çš„æ“ä½œç³»ç»Ÿ</li>
<li class="ml-8">Three Easy Pieces</li>
</ul></div></section><section><div><h2 id="-" class="text-xl mt-2 pb-2 font-sans">å®éªŒ - éªŒè¯å¯æ‰§è¡Œæ–‡ä»¶</h2>
<blockquote>
<p class="font-serif my-1">è·å–ä»£ç : https://e1psycongroo.github.io/NekoBytes-TheMissing/_site/resources/Lecture3/Codes/os-exec</p>
</blockquote>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/syscall.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">str</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"</span><span class="se">\033</span><span class="s">[01;31mHello, OS World</span><span class="se">\033</span><span class="s">[0m</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">str_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">asm</span><span class="w"> </span><span class="k">volatile</span><span class="p">(</span><span class="s">"movl %0, %%eax</span><span class="se">\n\t</span><span class="s">"</span><span class="w"> </span><span class="c1">// ç³»ç»Ÿè°ƒç”¨å·ï¼šSYS_write</span>
<span class="w">               </span><span class="s">"movl $1, %%edi</span><span class="se">\n\t</span><span class="s">"</span><span class="w"> </span><span class="c1">// æ–‡ä»¶æè¿°ç¬¦ï¼šSTDOUT_FILENO (æ ‡å‡†è¾“å‡º)</span>
<span class="w">               </span><span class="s">"movq %2, %%rsi</span><span class="se">\n\t</span><span class="s">"</span><span class="w"> </span><span class="c1">// å­—ç¬¦ä¸²åœ°å€</span>
<span class="w">               </span><span class="s">"movl %3, %%edx</span><span class="se">\n\t</span><span class="s">"</span><span class="w"> </span><span class="c1">// å­—ç¬¦ä¸²é•¿åº¦</span>
<span class="w">               </span><span class="s">"syscall"</span><span class="w">            </span><span class="c1">// è°ƒç”¨ç³»ç»Ÿè°ƒç”¨</span>
<span class="w">               </span><span class="o">:</span>
<span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="s">"r"</span><span class="p">(</span><span class="n">SYS_write</span><span class="p">),</span><span class="w"> </span><span class="s">"r"</span><span class="p">(</span><span class="n">STDOUT_FILENO</span><span class="p">),</span><span class="w"> </span><span class="s">"r"</span><span class="p">(</span><span class="n">str</span><span class="p">),</span><span class="w"> </span><span class="s">"r"</span><span class="p">(</span><span class="n">str_size</span><span class="p">)</span>
<span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="s">"eax"</span><span class="p">,</span><span class="w"> </span><span class="s">"edi"</span><span class="p">,</span><span class="w"> </span><span class="s">"rsi"</span><span class="p">,</span><span class="w"> </span><span class="s">"edx"</span><span class="p">);</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿï¼Ÿ</h2>
<p class="font-serif my-1"><img class="center" src="./static/img/bd1adab1bdef41eba48c528fd4a4ce8e.jpg" width="768px"/></p>
<div class="center">ç®¡ç†è¿›ç¨‹ã€æœåŠ¡è¿›ç¨‹ã€ç®¡ç†ç¡¬ä»¶</div></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">å†…å­˜æ¨¡å‹ä¸è§„èŒƒ</h2>
<ul class="list-disc font-serif">
<li class="ml-8">æŒ‡ä»¤é›†ã€ç¼–è¯‘å™¨ã€æ“ä½œç³»ç»Ÿéµå¾ªåŒä¸€è§„èŒƒ</li>
<li class="ml-8">System V ABI</li>
</ul>
<p class="font-serif my-1"><img class="center" src="./static/img/5a71e158da964ef6b36e403b8494ef2e.svg" width="280px"/></p></div></section><section><div><h2 id="-" class="text-xl mt-2 pb-2 font-sans">å®éªŒ - æ ˆå’Œå †çš„åœ°å€</h2>
<blockquote>
<p class="font-serif my-1">è·å–ä»£ç : https://e1psycongroo.github.io/NekoBytes-TheMissing/_site/resources/Lecture3/Codes/stack.c</p>
</blockquote>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"stack: %p</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">"heap : %p</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p class="font-serif my-1">å¯èƒ½çš„è¾“å‡ºï¼š</p>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="n">stack</span><span class="o">:</span><span class="w"> </span><span class="mh">0x7ffd27bb38dc</span>
<span class="n">heap</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mh">0x59e598fe42a0</span>
</code></pre></div></div></section><section><div><h2 id="_1" class="text-xl mt-2 pb-2 font-sans">ç¡¬ä»¶è§†è§’çš„æ“ä½œç³»ç»Ÿ</h2>
<ul class="list-disc font-serif">
<li class="ml-8">åªæ˜¯ä¸€ä¸ªç®€å•çš„ç¨‹åºï¼ˆè£¸æœºç¨‹åºï¼‰</li>
<li class="ml-8">ä½†æ˜¯ç›´æ¥æ“ä½œç¡¬ä»¶</li>
<li class="ml-8">ç›´æ¥å‘é€æŒ‡ä»¤ç»™ç£ç›˜</li>
<li class="ml-8">ç›´æ¥æ¥å—é”®ç›˜çš„åŸå§‹è¾“å…¥</li>
<li class="ml-8">ç›´æ¥â€¦â€¦</li>
<li class="ml-8">ä»¥ç‰¹æ®Šçš„æ–¹å¼å¯åŠ¨å…¶å®ƒç¨‹åºï¼Œå°±åƒè°ƒç”¨ä¸€ä¸ªå‡½æ•°ä¸€æ ·</li>
<li class="ml-8">å°†ç¨‹åºåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶è·³è½¬åˆ°ç¨‹åºçš„å…¥å£å¤„ã€‚</li>
</ul></div></section><section><div><h2 id="three-easy-pieces" class="text-xl mt-2 pb-2 font-sans">Three Easy Pieces</h2>
<ul class="list-disc font-serif">
<li class="ml-8">è™šæ‹ŸåŒ–<ul class="list-disc font-serif">
<li class="ml-8">æ‰€æœ‰è¿›ç¨‹éƒ½ä»¥ä¸ºè‡ªå·±æœ‰ä¸€æ•´ä¸ªè‹¹æœåƒ</li>
<li class="ml-8">ä»¥ä¸ºè‡ªå·±ç‹¬å CPUã€å†…å­˜â€¦â€¦</li>
</ul>
</li>
<li class="ml-8">å¹¶è¡Œ<ul class="list-disc font-serif">
<li class="ml-8">æµè§ˆå™¨ã€VSCodeç­‰ç¨‹åºä¸€èµ·è¿è¡Œï¼ŒåŒæ—¶ï¼Ÿ</li>
<li class="ml-8">åœ¨CPUä¸Šä¸æ–­åˆ‡æ¢æ­£åœ¨è¿è¡Œçš„ç¨‹åº</li>
</ul>
</li>
<li class="ml-8">æŒä¹…åŒ–<ul class="list-disc font-serif">
<li class="ml-8">æˆ‘çš„2048Gameå‡ºç°äº†16384ï¼ä½†æ˜¯è¿™æ¸¸æˆä¸èƒ½å­˜æ¡£ğŸ˜­ğŸ˜­ğŸ˜­</li>
<li class="ml-8">ç»„ç»‡æ–‡ä»¶ç³»ç»Ÿ</li>
</ul>
</li>
</ul></div></section><section data-auto-animate><div><h2 id="-" class="text-xl mt-2 pb-2 font-sans">æ‹“å±• - æ“ä½œç³»ç»Ÿä»¿çœŸ</h2>
<blockquote>
<p class="font-serif my-1">è·å–ä»£ç ï¼š https://e1psycongroo.github.io/NekoBytes-TheMissing/_site/resources/Lecture3/Codes/os-model</p>
</blockquote>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">SYS_EXIT</span><span class="p">,</span><span class="w">  </span><span class="c1">// Process exits</span>
<span class="w">    </span><span class="n">SYS_WRITE</span><span class="p">,</span><span class="w"> </span><span class="c1">// Write to console with a character</span>
<span class="p">};</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">syscall</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">arg</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">Syscall</span><span class="p">;</span>
</code></pre></div>

<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w">  </span><span class="n">remainingStep</span><span class="p">;</span><span class="w"> </span><span class="c1">// A process will run remainingStep steps</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">charToOutput</span><span class="p">;</span><span class="w">  </span><span class="c1">// A process will write this character</span>
<span class="w">                        </span><span class="c1">// to console by doing a syscall</span>
<span class="p">}</span><span class="w"> </span><span class="n">Process</span><span class="p">;</span><span class="w"> </span><span class="c1">// Process's Context</span>
</code></pre></div></div></section><section data-auto-animate><div><h2 id="-" class="text-xl mt-2 pb-2 font-sans">æ‹“å±• - æ“ä½œç³»ç»Ÿä»¿çœŸ</h2>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Process</span><span class="w"> </span><span class="o">*</span><span class="n">current</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">process_count</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// The Operating System will randomly</span>
<span class="w">        </span><span class="c1">// choose a process to run</span>
<span class="w">        </span><span class="n">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">process_schedule</span><span class="p">();</span>
<span class="w">        </span><span class="c1">// Switch process context and run it until a syscall</span>
<span class="w">        </span><span class="n">Syscall</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">process_step</span><span class="p">(</span><span class="n">current</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">call</span><span class="p">.</span><span class="n">syscall</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">SYS_EXIT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Process exits</span>
<span class="w">            </span><span class="n">process_exit</span><span class="p">(</span><span class="n">current</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">call</span><span class="p">.</span><span class="n">syscall</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">SYS_WRITE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Write the character from syscall arg to the console</span>
<span class="w">            </span><span class="n">putchar</span><span class="p">(</span><span class="n">call</span><span class="p">.</span><span class="n">arg</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">putchar</span><span class="p">(</span><span class="sc">'\n'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div></section><section data-auto-animate><div><h2 id="-" class="text-xl mt-2 pb-2 font-sans">æ‹“å±• - æ“ä½œç³»ç»Ÿä»¿çœŸ</h2>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Initialize the Operating System</span>
<span class="w">    </span><span class="n">init</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// spawn processes</span>
<span class="w">    </span><span class="n">spawn_process</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="sc">'A'</span><span class="p">);</span>
<span class="w">    </span><span class="n">spawn_process</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="sc">'B'</span><span class="p">);</span>
<span class="w">    </span><span class="n">spawn_process</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="sc">'C'</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// start running</span>
<span class="w">    </span><span class="n">run</span><span class="p">();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p class="font-serif my-1">å¯èƒ½çš„è¾“å‡ºï¼š</p>
<div class="codehilite"><pre class="bg-gray-100 overflow-x-auto rounded p-2 mb-2 mt-2"><span/><code>AABCCCBBBCBCAAA
BBAACCCABBACCAB
CAAACBCCBBAACBB
</code></pre></div></div></section></section>
        </div>
    </div>

    <script src="./static/reveal/reveal.js"></script>

    <script>
        Reveal.initialize({

            width: 1024, height: 768,

            slideNumber: 'c/t',
            controlsTutorial: false,
            progress: false,
            hash: true,
            center: false,
            autoAnimateUnmatched: true,
            autoAnimateEasing: 'ease-out',
            autoAnimateDuration: 0.3,
            transitionSpeed: 'fast'
        });
    </script>
</body>

</html>
